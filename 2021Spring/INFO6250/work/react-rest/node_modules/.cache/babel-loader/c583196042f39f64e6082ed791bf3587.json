{"ast":null,"code":"var _jsxFileName = \"/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/src/FactsList.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Fetchcatlist } from \"./servers\";\nimport { DisplayList } from \"./DisplayList\";\nimport { DisplayButton } from \"./DisplayButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FactsList = ({\n  setList,\n  maxLength\n}) => {\n  _s();\n\n  const [locFacts, setlocFacts] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [startPage, setstartPage] = useState(0);\n  useEffect(() => {\n    setLoading(true);\n    Fetchcatlist().then(facts => {\n      setLoading(false);\n      setlocFacts(facts);\n      setList(facts);\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  }, [setList]);\n\n  function pageDown() {\n    setstartPage(startPage - maxLength);\n\n    if (startPage <= 0) {\n      setstartPage(0);\n    }\n  }\n\n  function pageUp() {\n    setstartPage(startPage + maxLength);\n    const len = locFacts.length; // if (startPage > len){\n    // }\n  }\n\n  const pageCount = parseInt(locFacts.length / maxLength) + (locFacts.length % maxLength ? 1 : 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(DisplayList, {\n        size: maxLength,\n        facts: locFacts,\n        start: startPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DisplayButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 11\n  }, this);\n};\n\n_s(FactsList, \"JLX7OuWqPlbiEpSdMWdJ5qMe6rQ=\");\n\n_c = FactsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FactsList\");","map":{"version":3,"sources":["/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/src/FactsList.jsx"],"names":["useState","useEffect","Fetchcatlist","DisplayList","DisplayButton","FactsList","setList","maxLength","locFacts","setlocFacts","isLoading","setLoading","startPage","setstartPage","then","facts","catch","err","console","log","pageDown","pageUp","len","length","pageCount","parseInt"],"mappings":";;;AAAA,SAASA,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;AACA,SAAQC,YAAR,QAA2B,WAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,aAAT,QAA8B,iBAA9B;;AAEA,OAAO,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA,OAAD;AAASC,EAAAA;AAAT,CAAD,KAAwB;AAAA;;AAE7C,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBT,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACU,SAAD,EAAYC,UAAZ,IAA0BX,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,CAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAE,MAAK;AACZU,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAT,IAAAA,YAAY,GACXY,IADD,CACOC,KAAD,IAAS;AACbJ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,MAAAA,WAAW,CAACM,KAAD,CAAX;AACAT,MAAAA,OAAO,CAACS,KAAD,CAAP;AACD,KALD,EAMCC,KAND,CAMQC,GAAD,IAAO;AACZN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KATD;AAUD,GAZM,EAYL,CAACX,OAAD,CAZK,CAAT;;AAcE,WAASc,QAAT,GAAoB;AAClBP,IAAAA,YAAY,CAACD,SAAS,GAACL,SAAX,CAAZ;;AACA,QAAGK,SAAS,IAAI,CAAhB,EAAkB;AAChBC,MAAAA,YAAY,CAAC,CAAD,CAAZ;AACD;AACF;;AACD,WAASQ,MAAT,GAAiB;AACfR,IAAAA,YAAY,CAACD,SAAS,GAACL,SAAX,CAAZ;AACA,UAAMe,GAAG,GAAGd,QAAQ,CAACe,MAArB,CAFe,CAGf;AAEA;AACD;;AAED,QAAMC,SAAS,GAAGC,QAAQ,CAACjB,QAAQ,CAACe,MAAT,GAAgBhB,SAAjB,CAAR,IAAuCC,QAAQ,CAACe,MAAT,GAAgBhB,SAAhB,GAA0B,CAA1B,GAA4B,CAAnE,CAAlB;AAEA,sBACI;AAAA,cACGG,SAAS,gBACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADQ,gBAER;AAAA,8BACE,QAAC,WAAD;AAAa,QAAA,IAAI,EAAEH,SAAnB;AAA8B,QAAA,KAAK,EAAIC,QAAvC;AAAiD,QAAA,KAAK,EAAII;AAA1D;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAYL,CAhDM;;GAAMP,S;;KAAAA,S","sourcesContent":["import { useState,useEffect } from \"react\";\nimport {Fetchcatlist} from \"./servers\";\nimport { DisplayList } from \"./DisplayList\";\nimport { DisplayButton } from \"./DisplayButton\";\n\nexport const FactsList = ({setList,maxLength}) =>{\n\n    const [locFacts,setlocFacts] = useState([])\n    const [isLoading, setLoading] = useState(false)\n    const [startPage, setstartPage] = useState(0)\n\n    useEffect( () =>{\n        setLoading(true)\n        Fetchcatlist()\n        .then((facts)=>{\n          setLoading(false)\n          setlocFacts(facts)\n          setList(facts)\n        })\n        .catch((err)=>{\n          setLoading(false)\n          console.log(err)\n        })\n      },[setList]);\n\n      function pageDown (){\n        setstartPage(startPage-maxLength)\n        if(startPage <= 0){\n          setstartPage(0)\n        }\n      }\n      function pageUp(){\n        setstartPage(startPage+maxLength)\n        const len = locFacts.length\n        // if (startPage > len){\n\n        // }\n      }\n\n      const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\n\n      return (\n          <div>\n            {isLoading ? \n              <div>Loading data</div> : \n              <div>\n                <DisplayList size={maxLength} facts = {locFacts} start = {startPage}/>\n                <DisplayButton />\n              </div>\n            }\n          </div>\n      )\n\n}"]},"metadata":{},"sourceType":"module"}