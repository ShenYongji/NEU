{"ast":null,"code":"import _slicedToArray from\"/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{Fetchcatlist}from\"./servers\";import{DisplayList}from\"./DisplayList\";import{DisplayButton}from\"./DisplayButton\";import logo from'./spinner.gif';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FactsList=function FactsList(_ref){var setcountFacts=_ref.setcountFacts,maxLength=_ref.maxLength;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),locFacts=_useState2[0],setlocFacts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),startPage=_useState6[0],setstartPage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],seterrorMessage=_useState8[1];useEffect(function(){setLoading(true);Fetchcatlist().then(function(facts){setLoading(false);setlocFacts(facts);setcountFacts(facts.length);}).catch(function(err){setLoading(false);seterrorMessage(err.error);});},[setcountFacts]);// const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\nreturn/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Loading data...\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"loading...\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(DisplayList,{size:maxLength,facts:locFacts,start:startPage<0?0:startPage,length:locFacts.length,error:errorMessage}),/*#__PURE__*/_jsx(DisplayButton,{startPage:startPage<0?0:startPage,maxLength:maxLength,setstartPage:setstartPage,facts:locFacts,length:locFacts.length})]})});};","map":{"version":3,"sources":["/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/src/FactsList.jsx"],"names":["useState","useEffect","Fetchcatlist","DisplayList","DisplayButton","logo","FactsList","setcountFacts","maxLength","locFacts","setlocFacts","isLoading","setLoading","startPage","setstartPage","errorMessage","seterrorMessage","then","facts","length","catch","err","error"],"mappings":"4LAAA,OAASA,QAAT,CAAkBC,SAAlB,KAAmC,OAAnC,CACA,OAAQC,YAAR,KAA2B,WAA3B,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,C,wFAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA8B,IAA5BC,CAAAA,aAA4B,MAA5BA,aAA4B,CAAdC,SAAc,MAAdA,SAAc,eAEpBR,QAAQ,CAAC,EAAD,CAFY,wCAE5CS,QAF4C,eAEnCC,WAFmC,8BAGnBV,QAAQ,CAAC,KAAD,CAHW,yCAG5CW,SAH4C,eAGjCC,UAHiC,8BAIjBZ,QAAQ,CAAC,CAAD,CAJS,yCAI5Ca,SAJ4C,eAIjCC,YAJiC,8BAKZd,QAAQ,CAAC,EAAD,CALI,yCAK5Ce,YAL4C,eAK/BC,eAL+B,eAOnDf,SAAS,CAAE,UAAK,CACZW,UAAU,CAAC,IAAD,CAAV,CACAV,YAAY,GACXe,IADD,CACM,SAACC,KAAD,CAAS,CACbN,UAAU,CAAC,KAAD,CAAV,CACAF,WAAW,CAACQ,KAAD,CAAX,CACAX,aAAa,CAACW,KAAK,CAACC,MAAP,CAAb,CACD,CALD,EAMCC,KAND,CAMO,SAACC,GAAD,CAAO,CACZT,UAAU,CAAC,KAAD,CAAV,CACAI,eAAe,CAACK,GAAG,CAACC,KAAL,CAAf,CACD,CATD,EAUD,CAZM,CAYL,CAACf,aAAD,CAZK,CAAT,CAcE;AACA,mBACI,qBACGI,SAAS,cACR,aAAK,SAAS,CAAC,SAAf,wBACE,wCADF,cAEE,kCAAK,YAAK,GAAG,CAAEN,IAAV,CAAgB,GAAG,CAAC,YAApB,EAAL,EAFF,GADQ,cAMR,oCACE,KAAC,WAAD,EAAa,IAAI,CAAEG,SAAnB,CAA8B,KAAK,CAAIC,QAAvC,CAAiD,KAAK,CAAII,SAAS,CAAE,CAAX,CAAc,CAAd,CAAgBA,SAA1E,CAAqF,MAAM,CAAIJ,QAAQ,CAACU,MAAxG,CAAgH,KAAK,CAAEJ,YAAvH,EADF,cAEE,KAAC,aAAD,EAAe,SAAS,CAAIF,SAAS,CAAE,CAAX,CAAc,CAAd,CAAgBA,SAA5C,CAAuD,SAAS,CAAEL,SAAlE,CAA6E,YAAY,CAAEM,YAA3F,CAAyG,KAAK,CAAIL,QAAlH,CAA4H,MAAM,CAAIA,QAAQ,CAACU,MAA/I,EAFF,GAPJ,EADJ,CAgBL,CAtCM","sourcesContent":["import { useState,useEffect } from \"react\";\nimport {Fetchcatlist} from \"./servers\";\nimport { DisplayList } from \"./DisplayList\";\nimport { DisplayButton } from \"./DisplayButton\";\nimport logo from './spinner.gif'\n\nexport const FactsList = ({setcountFacts,maxLength}) =>{\n\n    const [locFacts,setlocFacts] = useState([])\n    const [isLoading, setLoading] = useState(false)\n    const [startPage, setstartPage] = useState(0)\n    const [errorMessage,seterrorMessage] = useState('')\n\n    useEffect( () =>{\n        setLoading(true)\n        Fetchcatlist()\n        .then((facts)=>{\n          setLoading(false)\n          setlocFacts(facts)\n          setcountFacts(facts.length)\n        })\n        .catch((err)=>{\n          setLoading(false)\n          seterrorMessage(err.error)\n        })\n      },[setcountFacts]);\n\n      // const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\n      return (\n          <div>\n            {isLoading ? \n              <div className=\"loading\">\n                <div>Loading data...</div>\n                <div><img src={logo} alt=\"loading...\" /></div>\n              </div>\n              : \n              <div>\n                <DisplayList size={maxLength} facts = {locFacts} start = {startPage <0? 0:startPage} length = {locFacts.length} error={errorMessage}/>\n                <DisplayButton startPage = {startPage <0? 0:startPage} maxLength={maxLength} setstartPage={setstartPage} facts = {locFacts} length = {locFacts.length}/>\n              </div>\n            }\n          </div>\n      )\n\n}"]},"metadata":{},"sourceType":"module"}