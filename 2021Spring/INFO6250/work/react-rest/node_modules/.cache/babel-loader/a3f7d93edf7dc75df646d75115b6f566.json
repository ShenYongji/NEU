{"ast":null,"code":"var _jsxFileName = \"/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/src/FactsList.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Fetchcatlist } from \"./servers\";\nimport { DisplayList } from \"./DisplayList\";\nimport { DisplayButton } from \"./DisplayButton\";\nimport logo from './spinner.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FactsList = ({\n  setcountFacts,\n  maxLength\n}) => {\n  _s();\n\n  const [locFacts, setlocFacts] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [startPage, setstartPage] = useState(0);\n  const [errorMessage, seterrorMessage] = useState('');\n  useEffect(() => {\n    setLoading(true);\n    Fetchcatlist().then(facts => {\n      setLoading(false);\n      setlocFacts(facts);\n      setcountFacts(locFacts.length);\n    }).catch(err => {\n      setLoading(false);\n      seterrorMessage(err.error);\n    });\n  }, []); // const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(DisplayList, {\n        size: maxLength,\n        facts: locFacts,\n        start: startPage < 0 ? 0 : startPage,\n        length: locFacts.length,\n        error: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DisplayButton, {\n        startPage: startPage < 0 ? 0 : startPage,\n        maxLength: maxLength,\n        setstartPage: setstartPage,\n        facts: locFacts,\n        length: locFacts.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 11\n  }, this);\n};\n\n_s(FactsList, \"2Woroe7rPrawU/u2+JLbSJ/BpJg=\");\n\n_c = FactsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FactsList\");","map":{"version":3,"sources":["/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/src/FactsList.jsx"],"names":["useState","useEffect","Fetchcatlist","DisplayList","DisplayButton","logo","FactsList","setcountFacts","maxLength","locFacts","setlocFacts","isLoading","setLoading","startPage","setstartPage","errorMessage","seterrorMessage","then","facts","length","catch","err","error"],"mappings":";;;AAAA,SAASA,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;AACA,SAAQC,YAAR,QAA2B,WAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,OAAOC,IAAP,MAAiB,eAAjB;;AAEA,OAAO,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA,aAAD;AAAeC,EAAAA;AAAf,CAAD,KAA8B;AAAA;;AAEnD,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBV,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACW,SAAD,EAAYC,UAAZ,IAA0BZ,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,CAAD,CAA1C;AACA,QAAM,CAACe,YAAD,EAAcC,eAAd,IAAiChB,QAAQ,CAAC,EAAD,CAA/C;AAEAC,EAAAA,SAAS,CAAE,MAAK;AACZW,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAV,IAAAA,YAAY,GACXe,IADD,CACOC,KAAD,IAAS;AACbN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,MAAAA,WAAW,CAACQ,KAAD,CAAX;AACAX,MAAAA,aAAa,CAACE,QAAQ,CAACU,MAAV,CAAb;AACD,KALD,EAMCC,KAND,CAMQC,GAAD,IAAO;AACZT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAI,MAAAA,eAAe,CAACK,GAAG,CAACC,KAAL,CAAf;AACD,KATD;AAUD,GAZM,EAYL,EAZK,CAAT,CAPmD,CAqBjD;;AACA,sBACI;AAAA,cACGX,SAAS,gBACR;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,+BAAK;AAAK,UAAA,GAAG,EAAEN,IAAV;AAAgB,UAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADQ,gBAMR;AAAA,8BACE,QAAC,WAAD;AAAa,QAAA,IAAI,EAAEG,SAAnB;AAA8B,QAAA,KAAK,EAAIC,QAAvC;AAAiD,QAAA,KAAK,EAAII,SAAS,GAAE,CAAX,GAAc,CAAd,GAAgBA,SAA1E;AAAqF,QAAA,MAAM,EAAIJ,QAAQ,CAACU,MAAxG;AAAgH,QAAA,KAAK,EAAEJ;AAAvH;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,aAAD;AAAe,QAAA,SAAS,EAAIF,SAAS,GAAE,CAAX,GAAc,CAAd,GAAgBA,SAA5C;AAAuD,QAAA,SAAS,EAAEL,SAAlE;AAA6E,QAAA,YAAY,EAAEM,YAA3F;AAAyG,QAAA,KAAK,EAAIL,QAAlH;AAA4H,QAAA,MAAM,EAAIA,QAAQ,CAACU;AAA/I;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBL,CAtCM;;GAAMb,S;;KAAAA,S","sourcesContent":["import { useState,useEffect } from \"react\";\nimport {Fetchcatlist} from \"./servers\";\nimport { DisplayList } from \"./DisplayList\";\nimport { DisplayButton } from \"./DisplayButton\";\nimport logo from './spinner.gif'\n\nexport const FactsList = ({setcountFacts,maxLength}) =>{\n\n    const [locFacts,setlocFacts] = useState([])\n    const [isLoading, setLoading] = useState(false)\n    const [startPage, setstartPage] = useState(0)\n    const [errorMessage,seterrorMessage] = useState('')\n\n    useEffect( () =>{\n        setLoading(true)\n        Fetchcatlist()\n        .then((facts)=>{\n          setLoading(false)\n          setlocFacts(facts)\n          setcountFacts(locFacts.length)\n        })\n        .catch((err)=>{\n          setLoading(false)\n          seterrorMessage(err.error)\n        })\n      },[]);\n\n      // const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\n      return (\n          <div>\n            {isLoading ? \n              <div className=\"loading\">\n                <div>Loading data...</div>\n                <div><img src={logo} alt=\"loading...\" /></div>\n              </div>\n              : \n              <div>\n                <DisplayList size={maxLength} facts = {locFacts} start = {startPage <0? 0:startPage} length = {locFacts.length} error={errorMessage}/>\n                <DisplayButton startPage = {startPage <0? 0:startPage} maxLength={maxLength} setstartPage={setstartPage} facts = {locFacts} length = {locFacts.length}/>\n              </div>\n            }\n          </div>\n      )\n\n}"]},"metadata":{},"sourceType":"module"}