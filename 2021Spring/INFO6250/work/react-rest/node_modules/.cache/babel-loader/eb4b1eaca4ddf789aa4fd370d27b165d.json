{"ast":null,"code":"import _slicedToArray from\"/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{Fetchcatlist}from\"./servers\";import{DisplayList}from\"./DisplayList\";import{DisplayButton}from\"./DisplayButton\";import logo from'./spinner.gif';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FactsList=function FactsList(_ref){var setList=_ref.setList,maxLength=_ref.maxLength;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),locFacts=_useState2[0],setlocFacts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),startPage=_useState6[0],setstartPage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],seterrorMessage=_useState8[1];useEffect(function(){setLoading(true);Fetchcatlist().then(function(facts){setLoading(false);setlocFacts(facts);setList(facts);}).catch(function(err){setLoading(false);seterrorMessage(err.error);});},[setList]);// const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\nreturn/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Loading data...\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"loading...\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(DisplayList,{size:maxLength,facts:locFacts,start:startPage<0?0:startPage,length:locFacts.length,error:errorMessage}),/*#__PURE__*/_jsx(DisplayButton,{startPage:startPage<0?0:startPage,maxLength:maxLength,setstartPage:setstartPage,facts:locFacts,length:locFacts.length})]})});};","map":{"version":3,"sources":["/Users/yongjishen/Desktop/INFO6250/student-ShenYongji/work/react-rest/src/FactsList.jsx"],"names":["useState","useEffect","Fetchcatlist","DisplayList","DisplayButton","logo","FactsList","setList","maxLength","locFacts","setlocFacts","isLoading","setLoading","startPage","setstartPage","errorMessage","seterrorMessage","then","facts","catch","err","error","length"],"mappings":"4LAAA,OAASA,QAAT,CAAkBC,SAAlB,KAAmC,OAAnC,CACA,OAAQC,YAAR,KAA2B,WAA3B,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,C,wFAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAwB,IAAtBC,CAAAA,OAAsB,MAAtBA,OAAsB,CAAdC,SAAc,MAAdA,SAAc,eAEdR,QAAQ,CAAC,EAAD,CAFM,wCAEtCS,QAFsC,eAE7BC,WAF6B,8BAGbV,QAAQ,CAAC,KAAD,CAHK,yCAGtCW,SAHsC,eAG3BC,UAH2B,8BAIXZ,QAAQ,CAAC,CAAD,CAJG,yCAItCa,SAJsC,eAI3BC,YAJ2B,8BAKNd,QAAQ,CAAC,EAAD,CALF,yCAKtCe,YALsC,eAKzBC,eALyB,eAO7Cf,SAAS,CAAE,UAAK,CACZW,UAAU,CAAC,IAAD,CAAV,CACAV,YAAY,GACXe,IADD,CACM,SAACC,KAAD,CAAS,CACbN,UAAU,CAAC,KAAD,CAAV,CACAF,WAAW,CAACQ,KAAD,CAAX,CACAX,OAAO,CAACW,KAAD,CAAP,CACD,CALD,EAMCC,KAND,CAMO,SAACC,GAAD,CAAO,CACZR,UAAU,CAAC,KAAD,CAAV,CACAI,eAAe,CAACI,GAAG,CAACC,KAAL,CAAf,CACD,CATD,EAUD,CAZM,CAYL,CAACd,OAAD,CAZK,CAAT,CAcE;AACA,mBACI,qBACGI,SAAS,cACR,aAAK,SAAS,CAAC,SAAf,wBACE,wCADF,cAEE,kCAAK,YAAK,GAAG,CAAEN,IAAV,CAAgB,GAAG,CAAC,YAApB,EAAL,EAFF,GADQ,cAMR,oCACE,KAAC,WAAD,EAAa,IAAI,CAAEG,SAAnB,CAA8B,KAAK,CAAIC,QAAvC,CAAiD,KAAK,CAAII,SAAS,CAAE,CAAX,CAAc,CAAd,CAAgBA,SAA1E,CAAqF,MAAM,CAAIJ,QAAQ,CAACa,MAAxG,CAAgH,KAAK,CAAEP,YAAvH,EADF,cAEE,KAAC,aAAD,EAAe,SAAS,CAAIF,SAAS,CAAE,CAAX,CAAc,CAAd,CAAgBA,SAA5C,CAAuD,SAAS,CAAEL,SAAlE,CAA6E,YAAY,CAAEM,YAA3F,CAAyG,KAAK,CAAIL,QAAlH,CAA4H,MAAM,CAAIA,QAAQ,CAACa,MAA/I,EAFF,GAPJ,EADJ,CAgBL,CAtCM","sourcesContent":["import { useState,useEffect } from \"react\";\nimport {Fetchcatlist} from \"./servers\";\nimport { DisplayList } from \"./DisplayList\";\nimport { DisplayButton } from \"./DisplayButton\";\nimport logo from './spinner.gif'\n\nexport const FactsList = ({setList,maxLength}) =>{\n\n    const [locFacts,setlocFacts] = useState([])\n    const [isLoading, setLoading] = useState(false)\n    const [startPage, setstartPage] = useState(0)\n    const [errorMessage,seterrorMessage] = useState('')\n\n    useEffect( () =>{\n        setLoading(true)\n        Fetchcatlist()\n        .then((facts)=>{\n          setLoading(false)\n          setlocFacts(facts)\n          setList(facts)\n        })\n        .catch((err)=>{\n          setLoading(false)\n          seterrorMessage(err.error)\n        })\n      },[setList]);\n\n      // const pageCount = parseInt(locFacts.length/maxLength) + (locFacts.length%maxLength?1:0)\n      return (\n          <div>\n            {isLoading ? \n              <div className=\"loading\">\n                <div>Loading data...</div>\n                <div><img src={logo} alt=\"loading...\" /></div>\n              </div>\n              : \n              <div>\n                <DisplayList size={maxLength} facts = {locFacts} start = {startPage <0? 0:startPage} length = {locFacts.length} error={errorMessage}/>\n                <DisplayButton startPage = {startPage <0? 0:startPage} maxLength={maxLength} setstartPage={setstartPage} facts = {locFacts} length = {locFacts.length}/>\n              </div>\n            }\n          </div>\n      )\n\n}"]},"metadata":{},"sourceType":"module"}