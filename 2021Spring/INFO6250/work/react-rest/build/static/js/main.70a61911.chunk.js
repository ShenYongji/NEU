(this["webpackJsonpreact-rest"]=this["webpackJsonpreact-rest"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(4),a=n.n(r),i=(n(9),n(2)),j=n(0),o=function(e){var t=e.error;return Object(j.jsx)("div",{className:"error_message",children:{"network-error":"There was a problem connecting to the network, try again","empty-data":"no facts in our database"}[t]})},l=function(e){var t=e.start,n=e.size,c=e.facts,s=e.error,r=t,a=t+n;a>c.length&&(a=c.length);var i=c.slice(r,a).map((function(e){return Object(j.jsxs)("li",{"data-index":c.indexOf(e),children:["Fact No.",c.indexOf(e)+1,Object(j.jsx)("br",{}),e]},c.indexOf(e))}));return s||0!==c.length||(s="empty-data"),Object(j.jsx)("div",{children:c.length?Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"fact_number",children:["Showing Facts: ",r+1,"-",a]}),Object(j.jsx)("ul",{className:"facts",children:i})]}):Object(j.jsx)(o,{error:s})})},d=function(e){var t=e.startPage,n=e.setstartPage,c=e.maxLength,s=e.facts,r=e.length;var a=parseInt(s.length/c)+(s%c?0:1),i=1+(Number.isInteger(t/c)?t/c:t/c+.5);return Object(j.jsx)("div",{className:"display_button",children:s.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){n(t-c)},disabled:!(t>0),children:"< Previous"}),Object(j.jsxs)("span",{className:"page_number",children:[i,"/",a]}),Object(j.jsx)("button",{onClick:function(){n(t+c)},disabled:t+c>=r,children:"Next >"})]}):null})},b=n.p+"static/media/spinner.42f7144f.gif",u=function(e){var t=e.setcountFacts,n=e.maxLength,s=Object(c.useState)([]),r=Object(i.a)(s,2),a=r[0],o=r[1],u=Object(c.useState)(!1),h=Object(i.a)(u,2),O=h[0],x=h[1],f=Object(c.useState)(0),g=Object(i.a)(f,2),v=g[0],m=g[1],p=Object(c.useState)(""),N=Object(i.a)(p,2),S=N[0],F=N[1];return Object(c.useEffect)((function(){x(!0),fetch("/catfacts",{method:"GET"}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){x(!1),o(e),t(e.length)})).catch((function(e){x(!1),F(e.error)}))}),[t]),Object(j.jsx)("div",{children:O?Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("div",{children:"Loading data..."}),Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:b,alt:"loading..."})})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)(l,{size:n,facts:a,start:v<0?0:v,length:a.length,error:S}),Object(j.jsx)(d,{startPage:v<0?0:v,maxLength:n,setstartPage:m,facts:a,length:a.length})]})})},h=function(e){var t=e.count;return Object(j.jsxs)("div",{className:"fact_count",children:[t," facts loaded"]})},O=function(e){var t=e.setListSize;return Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsx)("label",{children:"Facts per page:"}),Object(j.jsxs)("select",{onChange:function(e){t(e.target.value)},children:[Object(j.jsx)("option",{value:"5",children:"5"}),Object(j.jsx)("option",{value:"10",children:"10"})]})]})};n(11);var x=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)("5"),a=Object(i.a)(r,2),o=a[0],l=a[1],d=Object(c.useState)(0),b=Object(i.a)(d,2),x=b[0],f=b[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{count:x}),Object(j.jsx)(O,{setListSize:l}),Object(j.jsx)("hr",{}),n?Object(j.jsx)("div",{children:Object(j.jsx)(u,{setcountFacts:f,maxLength:parseInt(o)})}):Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return s(!0)},children:"Load Facts"})})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),f()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.70a61911.chunk.js.map