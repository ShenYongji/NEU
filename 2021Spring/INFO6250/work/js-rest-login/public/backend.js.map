{"version":3,"sources":["webpack://js-rest-login/./src/list.js","webpack://js-rest-login/./src/login.js","webpack://js-rest-login/webpack/bootstrap","webpack://js-rest-login/webpack/runtime/define property getters","webpack://js-rest-login/webpack/runtime/hasOwnProperty shorthand","webpack://js-rest-login/webpack/runtime/make namespace object","webpack://js-rest-login/./src/backend.js"],"names":["addintolist","item","fetch","method","headers","Headers","body","JSON","stringify","Promise","reject","error","then","response","ok","json","err","updateRate","itemId","deletefromlist","readfromlist","setTimeout","convertError","checkLoginStatus","performLogin","username","performLogout","credentials","showLogin","login_status","document","querySelector","innerHTML","login_page","showModal","closeLogin","close","application","user","rendPage","console","log","updateloginStatus","errMsgs","t","autoUpdate","order","ascending","descending","updateStatus","login","logout","addItem","adjustRate","deleteitem","orderRate","message","innerText","status","login_button","addEventListener","value","logout_button","list","clearTimeout","hideUserPanel","add_button","input","name","rate","items","push","e","target","classList","contains","dataset","index","curr_index","returnPos","splice","user_panel","hidden","html_data","i","ascending_app","ascending_list","sort","compare","a","b","parseInt","descending_app","descending_list"],"mappings":"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","file":"backend.js","sourcesContent":["export const addintolist = function (item){\n    return fetch('/user',{\n        method:'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n          }),\n        body: JSON.stringify({ item }),\n    })  \n    .catch( () => {\n        return Promise.reject({ error: 'network-error' });\n       })\n      .then( response => {\n        if(response.ok) {\n          return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n      });\n}\n\nexport const updateRate = function({method,itemId}){\n    if (itemId){\n        return fetch('/user',{\n            method: \"PATCH\",\n            headers: new Headers({\n                'content-type': 'application/json',\n              }),\n            body: JSON.stringify({method,itemId}),\n        })\n        .catch( () => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n        });\n    }\n}\n\nexport const deletefromlist = function(itemId){\n    if (itemId){\n        return fetch('/user',{\n            method: \"DELETE\",\n            headers: new Headers({\n                'content-type': 'application/json',\n              }),\n            body: JSON.stringify({itemId}),\n        })\n        .catch( () => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( err => Promise.reject(err) );\n        });\n    }\n}\n\nexport const readfromlist = function(){\n    return fetch('/list',{\n        method:'GET'\n    })\n    .catch( () => {\n        return Promise.reject({ error: 'network-error' });\n    })\n    .then( response => {\n    if(response.ok) {\n        return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n    })\n    .then( setTimeout( readfromlist, 1000) );\n}\n\n// export const buttondisable = function(items){\n//     for (let i of document.querySelectorAll(\".decrease\")){\n    \n//         const index = i.dataset.index\n//         const rate = items[index].rate\n//         console.log(index,rate)\n//         if (rate <= 0 ){\n//             i.disabled = true\n//         }\n//     }\n//     for (let i of document.querySelectorAll(\".increase\")){\n//         const index = i.dataset.index\n//         const rate = items[index].rate\n//         if (rate >= 5 ){\n//             i.disabled = true\n//         }\n//     }\n// }","function convertError(response) {\n  if(response.ok) {\n      return response.json();\n  }\n  return response.json()\n  .then( err => Promise.reject(err) );\n}\n\n\nexport const checkLoginStatus = function() {\n  return fetch('/user', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n  })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err));\n  })\n};\n\n\nexport const performLogin = function( username ) {\n  return fetch('/login', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  })\n};\n\nexport const performLogout = function() {\n  return fetch('/logout', {\n    method: 'POST',\n    credentials: 'same-origin',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\n\n\nexport const showLogin = function (){\n  const login_status = document.querySelector('.login-status')\n  login_status.innerHTML = 'Please Log in'\n  const login_page = document.querySelector('.loginpage')\n  login_page.showModal()\n}\n\nexport const closeLogin = function (){\n  const login_status = document.querySelector('.login-status')\n  login_status.innerHTML = ''\n  const login_page = document.querySelector('.loginpage')\n  login_page.close()\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    checkLoginStatus,\n    performLogin,\n    performLogout,\n    showLogin,\n    closeLogin\n} from './login'\n\nimport {\n    addintolist, \n    updateRate,deletefromlist} from './list'\n\n\n\n\nlet application = []\n\n\ncheckLoginStatus()\n.then((user) =>{\n    application = user\n    rendPage()\n    //rendPage(application)\n    closeLogin();\n})\n.catch(err =>{\n    console.log(err)\n    updateloginStatus(errMsgs[err.error] || err.error);\n    showLogin();\n})\n\nlet t\nconst autoUpdate = () => {\n    return fetch('/auto-update', {\n      method: 'GET',\n    })\n    .then( response => {\n        if(response.ok) {\n          return response.json();\n        }\n        return response.json().then( err => Promise.reject(err));\n      })\n    .then((user)=>{\n        application = user\n        if(order == 1){\n            application=ascending()\n        }\n        if(order == -1){\n            application= descending()\n        }\n        rendPage() \n    })\n    .catch(err=>{\n        console.log(err)\n        updateStatus(errMsgs[err.error] || err.error);\n    })\n    .then(t = setTimeout( autoUpdate, 5000) );\n  };\n\n  \n\n//readfromlist()\nlogin();\nlogout();\naddItem();\nadjustRate();\ndeleteitem();\norderRate();\n\nfunction updateloginStatus(message) {\n    const login_status = document.querySelector('.login-status')\n    login_status.innerText = message;\n}\n\nconst status = document.querySelector(\".list_status\")\n\nfunction updateStatus(message) {\n    if (message){\n        status.innerText = message;\n    }\n}\n\nconst errMsgs = { // translate error codes to human-friendly messages\n    'duplicate': 'This item had already existed',\n    'network-error': 'There was a problem connecting to the network, try again',\n    'invalid-input' : 'There was a proble with your input, only allow English characters',\n    'login-required':'Please Log in',\n    'missing-value':\"value is missing, server error\",\n    'empty-name':'Please do not have whitespaces or use empty name',\n    'login-invalid': 'Please try other name (PS: only English letters)',\n    'username-invalid':'Please try other name (PS: only English letters)',\n    'item name is empty':'item name is empty'\n};\n\n//let update = setTimeout( autoUpdate, 5000) \n\nfunction login(){\n    const login_button = document.querySelector(\".login\");\n\n    login_button.addEventListener('click',()=>{\n        const username = document.querySelector('.username').value\n        performLogin(username)\n        .then( (user) => {\n            document.querySelector('.username').value = ''\n            application = user\n            //rendPage()\n            autoUpdate()\n            closeLogin();\n        })\n        .catch( err => {\n            // fixme - show errors\n            console.log(err);\n            updateloginStatus(errMsgs[err.error] || err.error);\n        })\n    })\n}\n\n//let update = setTimeout( autoUpdate, 5000) \nfunction logout(){\n    const logout_button = document.querySelector(\".logout\");\n    logout_button.addEventListener('click',()=>{\n        performLogout()\n        .then( (user) => {\n            const list = document.querySelector(\".inventory-app .display-panel .item-list\");\n            list.innerHTML = ''\n            clearTimeout(t);\n            hideUserPanel()\n            showLogin()\n        })\n        .catch( err => {\n            // fixme - show errors\n            console.log(err);\n            updateloginStatus(errMsgs[err.error] || err.error);\n        })\n    })\n}\n\nfunction addItem(){\n    const add_button = document.querySelector(\".inventory-app .input-panel button\");\n    add_button.addEventListener(\"click\",()=>{\n        const input = document.querySelector(\".inventory-app .input-panel input\");\n        const item = input.value\n        addintolist(item)\n        .then(({itemId,name,rate}) =>{\n            status.innerHTML= ''\n            input.value = ''\n            application.items.push({itemId,name,rate})\n            if(order == 1){\n                application=ascending()\n            }\n            if(order == -1){\n                application= descending()\n            }\n            rendPage() \n        })\n        .catch(err=>{\n            console.log(err)\n            updateStatus(errMsgs[err.error] || err.error);\n        })\n    })\n}\n\nfunction adjustRate(){\n    const list = document.querySelector(\".inventory-app .display-panel .item-list\");\n    list.addEventListener('click', (e) => {\n        if(!e.target.classList.contains(\"increase\") && !e.target.classList.contains(\"decrease\")){\n            return;\n        }\n        let itemId = e.target.dataset.index\n\n        let method\n        if(e.target.classList.contains(\"increase\")){\n            method = '+'\n        }\n        if(e.target.classList.contains(\"decrease\")){\n            method = '-'\n        }\n        updateRate({method,itemId})\n        .then(({itemId,item})=>{\n            const curr_index = returnPos(itemId)\n            application.items[curr_index] = item\n            if(order == 1){\n                application=ascending()\n            }\n            if(order == -1){\n                application= descending()\n            }\n            rendPage() \n        })\n        .catch(err=>{\n            console.log(err)\n            updateStatus(errMsgs[err.error] || err.error);\n        })\n    });\n}\n\nfunction deleteitem(){\n    const list = document.querySelector(\".inventory-app .display-panel .item-list\");\n    list.addEventListener('click', (e) => {\n        if(!e.target.classList.contains(\"delete\")){\n            return;\n        }\n        const itemId = e.target.dataset.index\n        //console.log(itemId)\n        //console.log(e.target)\n        deletefromlist(itemId)\n        .then(({itemId})=>{\n            //console.log(index)\n            //delete application.items[index]\n            const curr_index = returnPos(itemId)\n            application.items.splice(curr_index,1)\n            if(order == 1){\n                application=ascending()\n            }\n            if(order == -1){\n                application= descending()\n            }\n            rendPage() \n        })\n        .catch(err=>{\n            console.log(err)\n            updateStatus(errMsgs[err.error] || err.error);\n        })\n    });\n}\n\nfunction rendPage() {\n    console.log(order)\n    const user_panel = document.querySelector('.user')\n    user_panel.hidden = false\n    const name = document.querySelector('.name')\n    name.innerHTML = application.username\n\n    const list = document.querySelector(\".inventory-app .display-panel .item-list\");\n    console.log(application)\n    let html_data = '';\n        for (let i in application.items){\n            const itemId = application.items[i].itemId\n            const index = i\n            const name = application.items[i].name\n            const rate = application.items[i].rate\n            if (rate <= 0){\n                html_data += `\n                <li>\n                    <span class=\"delete\" data-index=\"${itemId}\">X</span>\n                    <span class=\"item-name\" data-index=\"${itemId}\">Name: ${name}</span>\n                    <br>\n                    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Score: </span>\n                    <button class=\"decrease\" data-index=\"${itemId}\" disabled> - </button>\n                    <span class=\"item-quantity\" data-index=\"${itemId}\">${rate}</span>\n                    <button class=\"increase\" data-index=\"${itemId}\"> + </button>\n                </li>\n                `;\n            }\n            else if (rate >=5){\n                html_data += `\n                <li>\n                    <span class=\"delete\" data-index=\"${itemId}\">X</span>\n                    <span class=\"item-name\" data-index=\"${itemId}\">Name: ${name}</span>\n                    <br>\n                    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Score: </span>\n                    <button class=\"decrease\" data-index=\"${itemId}\"> - </button>\n                    <span class=\"item-quantity\" data-index=\"${itemId}\">${rate}</span>\n                    <button class=\"increase\" data-index=\"${itemId}\" disabled> + </button>\n                </li>\n                `;\n            }\n            else{\n                html_data += `\n                <li>\n                    <span class=\"delete\" data-index=\"${itemId}\">X</span>\n                    <span class=\"item-name\" data-index=\"${itemId}\">Name: ${name}</span>\n                    <br>\n                    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Score: </span>\n                    <button class=\"decrease\" data-index=\"${itemId}\"> - </button>\n                    <span class=\"item-quantity\" data-index=\"${itemId}\">${rate}</span>\n                    <button class=\"increase\" data-index=\"${itemId}\"> + </button>\n                </li>\n                `;\n            }\n        }\n    list.innerHTML = html_data;\n    //buttondisable(user.items)\n}\n\nlet order = 0\n\nfunction ascending(){\n    console.log(\"ascending\")\n    let ascending_app =[]\n    \n    console.log(application.items)\n    ascending_app.username = application.username\n    //ascending_app.curr_index = application.curr_index\n    ascending_app.items = []\n\n    let ascending_list = []\n    for (let i of application.items){\n        const itemId = i.itemId\n        const rate = i.rate\n        ascending_list.push([itemId,rate])\n    }\n\n\n    console.log(ascending_list)\n\n    ascending_list.sort(function compare(a,b){\n        return a[1]-b[1]\n    })\n\n    console.log(ascending_list)\n\n    console.log(application.items)\n    for (let index in ascending_list){\n        const itemId = ascending_list[index][0]\n        const rate = ascending_list[index][1]\n        const curr_index = returnPos(itemId)\n        console.log(itemId,application.items[curr_index].name,rate)\n        ascending_app.items.push({itemId:parseInt(itemId),name: application.items[curr_index].name,rate})\n    }\n    console.log(ascending_app)\n    console.log(\"__________________________________\")\n    return ascending_app\n\n}\n\nfunction descending(){\n    //console.log(\"descending\")\n    let descending_app = []\n\n    //console.log(application.items)\n    descending_app.username = application.username\n    //descending_app.curr_index = application.curr_index\n    descending_app.items = []\n\n    let descending_list = []\n    for (let i of application.items){\n        const itemId = i.itemId\n        const rate = i.rate\n        descending_list.push([itemId,rate])\n    }\n\n    //console.log(descending_list)\n\n    descending_list.sort(function compare(a,b){\n        return b[1]-a[1]\n    })\n    //console.log(descending_list)\n\n    //console.log(application.items)\n\n    for (let index in descending_list){\n        const itemId = descending_list[index][0]\n        const rate = descending_list[index][1]\n        const curr_index = returnPos(itemId)\n        //console.log(itemId,application.items[curr_index].name,rate)\n        descending_app.items.push({itemId:parseInt(itemId),name: application.items[curr_index].name,rate})\n    }\n    //console.log(descending_app)\n    //console.log(\"__________________________________\")\n    return descending_app\n}\n\n\nfunction orderRate(){\n    const ascending = document.querySelector('.ascending')\n    const descending = document.querySelector('.descending')\n    //const reset = document.querySelector('.reset')\n\n\n    ascending.addEventListener('click',()=>{\n        order = 1\n        //console.log(\"ascending\")\n        let ascending_app =[]\n        \n        //console.log(application.items)\n        ascending_app.username = application.username\n        //ascending_app.curr_index = application.curr_index\n        ascending_app.items = []\n    \n        let ascending_list = []\n        for (let i of application.items){\n            const itemId = i.itemId\n            const rate = i.rate\n            ascending_list.push([itemId,rate])\n        }\n    \n    \n        //console.log(ascending_list)\n    \n        ascending_list.sort(function compare(a,b){\n            return a[1]-b[1]\n        })\n    \n        //console.log(ascending_list)\n    \n        //console.log(application.items)\n        for (let index in ascending_list){\n            const itemId = ascending_list[index][0]\n            const rate = ascending_list[index][1]\n            const curr_index = returnPos(itemId)\n            //console.log(itemId,application.items[curr_index].name,rate)\n            ascending_app.items.push({itemId:parseInt(itemId),name: application.items[curr_index].name,rate})\n        }\n        //console.log(ascending_app)\n        application = ascending_app\n        //console.log(\"__________________________________\")\n        rendPage()\n    })\n    descending.addEventListener('click',()=>{\n        order = -1\n        //console.log(\"descending\")\n        let descending_app = []\n    \n        //console.log(application.items)\n        descending_app.username = application.username\n        //descending_app.curr_index = application.curr_index\n        descending_app.items = []\n    \n        let descending_list = []\n        for (let i of application.items){\n            const itemId = i.itemId\n            const rate = i.rate\n            descending_list.push([itemId,rate])\n        }\n    \n        //console.log(descending_list)\n    \n        descending_list.sort(function compare(a,b){\n            return b[1]-a[1]\n        })\n        //console.log(descending_list)\n    \n        //console.log(application.items)\n    \n        for (let index in descending_list){\n            const itemId = descending_list[index][0]\n            const rate = descending_list[index][1]\n            const curr_index = returnPos(itemId)\n            //console.log(itemId,application.items[curr_index].name,rate)\n            descending_app.items.push({itemId:parseInt(itemId),name: application.items[curr_index].name,rate})\n        }\n        //console.log(descending_app)\n        application = descending_app\n        //console.log(\"__________________________________\")\n        rendPage()\n    })    \n    // reset.addEventListener('click',()=>{\n    //     // console.log(\"reset\")\n\n    //     //console.log(application.items)\n    //     rendPage()\n    // })\n    // <button class=\"ascending\">Ascending</button>\n    // <button class=\"descending\"> Descending</button>\n    // <button class=\"reset\">Reset</button>\n}\nfunction returnPos(itemId){\n    let curr_index\n    for (let i in application.items){\n        if(itemId == application.items[i].itemId){\n            curr_index = i\n            break\n        }\n    }\n    return curr_index\n}\nfunction hideUserPanel(){\n    const user_panel = document.querySelector('.user')\n    user_panel.hidden = true\n}\n"],"sourceRoot":""}